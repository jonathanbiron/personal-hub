<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jonathan & Melissa — Community Hub</title>
  <meta name="description" content="Warm, practical on-ramps into community, conversation, and projects. Thrive Gatherings, Friday Conversations, REAL, SSBE, The Initiative, Stilled.">

  <!-- Tailwind (CDN for quick start) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React 18 + ReactDOM (UMD) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <!-- Babel lets us write JSX inline for this MVP (fine for a single page) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body class="bg-gradient-to-b from-blue-50/60 to-white text-gray-900">
  <div id="root"></div>

  <script type="text/babel">
    const HUB = {
      title: "Jonathan & Melissa — Community Hub",
      names: "Jonathan & Melissa Biron",
      email: "hello@theinitiativeprojects.com",
      phoneJon: "+18189039078",
      phoneMel: "+18189036502",
      links: {
        thriveRSVP: "https://docs.google.com/forms/d/e/1FAIpQLSd2I41x4NUbS_1cE-7sTnQpb0k0rjUZK_LBhOJLmWB7sc3YjA/viewform?usp=header",
        fridayInfo: "#",     /* TODO: replace with your link */
        realTeam: "#",       /* TODO */
        ssbe: "#",           /* TODO */
        initiative: "#",     /* TODO */
        stilled: "#",        /* TODO */
        presenterDoc: "#"    /* TODO */
      }
    };

    const TOPICS = [
      { key: "all",        label: "Everything (one list)",  description: "Highlights from all projects." },
      { key: "thrive",     label: "Thrive Gatherings",       description: "Monthly community dinners + invites/reminders." },
      { key: "friday",     label: "Friday Conversations",    description: "Weekly discussion group + guest topics." },
      { key: "real",       label: "REAL Estate updates",     description: "Market notes, listings, client stories." },
      { key: "ssbe",       label: "SSBE",                    description: "Small steps, big effects—practical micro-habits." },
      { key: "initiative", label: "The Initiative",          description: "Experiments + essays on community/creating." },
      { key: "stilled",    label: "Stilled",                 description: "Quiet practices for a fuller life." }
    ];

    const FREQ = [
      { key: "monthly",  label: "Monthly digest (essentials)" },
      { key: "biweekly", label: "Every other week" },
      { key: "weekly",   label: "Weekly (light)" },
      { key: "realtime", label: "As things happen (select topics)" }
    ];

    const Pill = ({children}) => (
      <span className="inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium text-gray-600">{children}</span>
    );

    const Section = ({title, blurb, children, defaultOpen=false}) => {
      const [open, setOpen] = React.useState(defaultOpen);
      return (
        <div className="rounded-2xl border bg-white/70 shadow-sm">
          <button onClick={() => setOpen(!open)} className="w-full text-left p-4 md:p-6 flex items-center justify-between">
            <div>
              <div className="text-lg md:text-xl font-semibold text-gray-900">{title}</div>
              <div className="text-sm text-gray-600 mt-1">{blurb}</div>
            </div>
            <div className={"transition-transform " + (open ? "rotate-180" : "")}>
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" className="text-gray-400"><path d="M6 9l6 6 6-6" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
            </div>
          </button>
          {open && <div className="px-4 pb-4 md:px-6 md:pb-6">{children}</div>}
        </div>
      );
    };

    const Card = ({title, cta="Open", href, children}) => (
      <div className="rounded-xl border p-4 md:p-5 shadow-sm bg-white">
        <div className="flex items-center justify-between gap-3">
          <h4 className="text-base md:text-lg font-semibold text-gray-900">{title}</h4>
          {href && <a href={href} target="_blank" rel="noreferrer" className="inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium hover:bg-gray-50">{cta}</a>}
        </div>
        <div className="mt-2 text-sm text-gray-600 leading-relaxed">{children}</div>
      </div>
    );

    function PersonalHub() {
      const [name, setName] = React.useState("");
      const [email, setEmail] = React.useState("");
      const [phone, setPhone] = React.useState("");
      const [topics, setTopics] = React.useState(new Set(["thrive"]));
      const [freq, setFreq] = React.useState("monthly");
      const [presenterMode, setPresenterMode] = React.useState(false);

      React.useEffect(() => {
        const params = new URLSearchParams(window.location.search);
        const isPresenter = ["1", "true", "yes"].includes((params.get("presenter") || "").toLowerCase());
        setPresenterMode(isPresenter);
      }, []);

      const toggleTopic = (key) => {
        setTopics((prev) => {
          const next = new Set(prev);
          if (next.has(key)) next.delete(key); else next.add(key);
          return next;
        });
      };

      const downloadVCard = () => {
        const lines = [
          "BEGIN:VCARD",
          "VERSION:3.0",
          "N:Biron;Jonathan & Melissa;;;",
          "FN:" + HUB.names,
          "ORG:The Initiative Projects",
          "TEL;TYPE=CELL:" + HUB.phoneJon,
          "TEL;TYPE=CELL:" + HUB.phoneMel,
          "EMAIL:" + HUB.email,
          "URL:https://go.theinitiativeprojects.com",
          "END:VCARD"
        ];
        const blob = new Blob([lines.join("\n")], { type: "text/vcard" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url; a.download = "Jonathan_Melissa_Biron.vcf";
        document.body.appendChild(a); a.click(); a.remove();
        URL.revokeObjectURL(url);
      };

      const handleSubmitPrefs = () => {
        const chosen = Array.from(topics).join(", ") || "(none)";
        const subject = encodeURIComponent("Subscription preferences");
        const body = encodeURIComponent(
          `Name: ${name}\nEmail: ${email}\nPhone: ${phone}\nTopics: ${chosen}\nFrequency: ${freq}\n— from the hub page`
        );
        window.location.href = `mailto:${HUB.email}?subject=${subject}&body=${body}`;
      };

      return (
        <main className="min-h-screen">
          <div className="mx-auto max-w-3xl px-4 py-8 md:py-12">
            <header className="mb-6 md:mb-8 flex items-center gap-4">
              <div className="h-14 w-14 md:h-16 md:w-16 rounded-full bg-gradient-to-tr from-blue-300 to-indigo-300 flex items-center justify-center text-white font-semibold">JM</div>
              <div>
                <h1 className="text-xl md:text-2xl font-bold">{HUB.title}</h1>
                <p className="text-sm text-gray-600">Warm, practical on-ramps into community, conversation, and projects.</p>
                <div className="mt-2 flex flex-wrap gap-2">
                  <Pill>Thrive Gatherings</Pill><Pill>Friday Conversations</Pill><Pill>REAL</Pill><Pill>SSBE</Pill><Pill>The Initiative</Pill><Pill>Stilled</Pill>
                </div>
              </div>
            </header>

            <div className="mb-6 grid grid-cols-1 sm:grid-cols-2 gap-3">
              <button onClick={downloadVCard} className="rounded-2xl bg-white shadow-sm border px-4 py-3 text-left hover:shadow transition flex items-center justify-between">
                <div>
                  <div className="font-semibold">Save our contact</div>
                  <div className="text-xs text-gray-600">Download vCard to your phone</div>
                </div>
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" className="text-gray-500"><path d="M12 5v14M5 12h14" strokeWidth="2" strokeLinecap="round"/></svg>
              </button>

              <a href={HUB.links.thriveRSVP} target="_blank" rel="noreferrer" className="rounded-2xl bg-indigo-600 text-white px-4 py-3 text-center font-semibold hover:bg-indigo-700 transition">
                Quick RSVP: Next Thrive Gathering
              </a>
            </div>

            <Section title="Share your info (optional)" blurb="So we can send invites that match what you want—kept private and low-frequency." defaultOpen={true}>
              <div className="grid grid-cols-1 sm:grid-cols-3 gap-3">
                <input className="rounded-xl border px-3 py-2" placeholder="Name" value={name} onChange={e => setName(e.target.value)} />
                <input className="rounded-xl border px-3 py-2" placeholder="Email" value={email} onChange={e => setEmail(e.target.value)} />
                <input className="rounded-xl border px-3 py-2" placeholder="Mobile (optional)" value={phone} onChange={e => setPhone(e.target.value)} />
              </div>
              <div className="mt-4">
                <div className="text-sm font-medium mb-2">What are you interested in?</div>
                <div className="grid grid-cols-1 sm:grid-cols-2 gap-2">
                  {TOPICS.map(t => (
                    <label key={t.key} className={"rounded-xl border px-3 py-2 flex items-start gap-2 cursor-pointer " + (topics.has(t.key) ? "bg-blue-50 border-blue-200" : "hover:bg-gray-50")}>
                      <input type="checkbox" className="mt-1" checked={topics.has(t.key)} onChange={() => toggleTopic(t.key)} />
                      <div>
                        <div className="text-sm font-medium">{t.label}</div>
                        <div className="text-xs text-gray-600">{t.description}</div>
                      </div>
                    </label>
                  ))}
                </div>
              </div>

              <div className="mt-4">
                <div className="text-sm font-medium mb-2">How often?</div>
                <div className="grid grid-cols-1 sm:grid-cols-2 gap-2">
                  {FREQ.map(f => (
                    <label key={f.key} className={"rounded-xl border px-3 py-2 flex items-center gap-2 cursor-pointer " + (f.key === freq ? "bg-blue-50 border-blue-200" : "hover:bg-gray-50")}>
                      <input type="radio" name="freq" checked={freq === f.key} onChange={() => setFreq(f.key)} />
                      <div className="text-sm">{f.label}</div>
                    </label>
                  ))}
                </div>
                <p className="text-xs text-gray-500 mt-2">You can change this anytime. SMS includes STOP/HELP; message/data rates may apply.</p>
              </div>

              <div className="mt-4 flex items-center gap-3">
                <button onClick={handleSubmitPrefs} className="rounded-xl bg-gray-900 text-white px-4 py-2 font-semibold hover:bg-black">Send preferences</button>
                <a href={HUB.links.thriveRSVP} target="_blank" rel="noreferrer" className="rounded-xl border px-4 py-2 font-semibold hover:bg-gray-50">Or jump straight to Thrive RSVP</a>
              </div>
            </Section>

            <div className="mt-6 space-y-4">
              <Section title="Friday Conversations" blurb="A weekly, welcoming conversation—curiosity over consensus.">
                <div className="grid gap-3">
                  <Card title="About" cta="Read more">
                    We host a simple, steady rhythm on Fridays: a short spark, then an open conversation. Come as you are; leave a little more thoughtful than you arrived.
                  </Card>
                  <Card title="Join us" cta="Get details" href={HUB.links.fridayInfo}>
                    Times, topics, and location notes. We’ll send a reminder if you’d like.
                  </Card>
                </div>
              </Section>

              <Section title="Thrive Gatherings" blurb="Monthly potluck with playful themes—easy on-ramps to connection.">
                <div className="grid gap-3">
                  <Card title="This month’s invite" cta="RSVP" href={HUB.links.thriveRSVP}>
                    Surf & Turf, Sunday Aug 31, 4–7pm. Bring a dish if you’d like—low-pressure, high-friendliness.
                  </Card>
                </div>
              </Section>

              <Section title="REAL (Real Estate)" blurb="Thoughtful, service-first help buying, selling, and settling in.">
                <div className="grid gap-3">
                  <Card title="Work with our team" cta="Explore" href={HUB.links.realTeam}>
                    Updates, listings, stories, and guidance without the hype.
                  </Card>
                </div>
              </Section>

              <Section title="SSBE" blurb="Small steps, big effects—practical experiments that add up.">
                <div className="grid gap-3">
                  <Card title="Start here" cta="Explore" href={HUB.links.ssbe}>
                    A tiny nudge, a lighter day. Simple practices that stick.
                  </Card>
                </div>
              </Section>

              <Section title="The Initiative" blurb="An umbrella for experiments, essays, and gatherings—building in public.">
                <div className="grid gap-3">
                  <Card title="What is it?" cta="Explore" href={HUB.links.initiative}>
                    We try things, share what we learn, and make space for others to do the same.
                  </Card>
                </div>
              </Section>

              <Section title="Stilled" blurb="Quiet practices for a fuller life—rest that makes room for joy.">
                <div className="grid gap-3">
                  <Card title="Begin" cta="Explore" href={HUB.links.stilled}>
                    Short guides and simple rhythms to help you breathe.
                  </Card>
                </div>
              </Section>
            </div>

            {/* Presenter portal shows if URL has ?presenter=1 */}
            <div id="presenter" className="mt-8 hidden">
              <div className="rounded-2xl border-2 border-dashed p-5">
                <div className="text-sm uppercase tracking-wide text-gray-500 mb-2">Presenter Portal</div>
                <div className="grid gap-3">
                  <Card title="Guest presenter guide" cta="Open" href={HUB.links.presenterDoc}>
                    Expectations, timing, and tips for a great Friday Conversation.
                  </Card>
                </div>
              </div>
            </div>

            <footer className="mt-10 text-center text-xs text-gray-500">
              <div>Questions? {HUB.email} • (+1) 818-903-9078 • (+1) 818-903-6502</div>
              <div className="mt-1">You can opt out anytime. Reply STOP to SMS or unsubscribe from emails.</div>
            </footer>
          </div>
        </main>
      );
    }

    function App() {
      React.useEffect(() => {
        const params = new URLSearchParams(window.location.search);
        const isPresenter = ["1","true","yes"].includes((params.get("presenter") || "").toLowerCase());
        const el = document.getElementById("presenter");
        if (el && isPresenter) el.classList.remove("hidden");
      }, []);
      return <PersonalHub />;
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
